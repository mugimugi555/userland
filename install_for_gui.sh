#!/bin/bash

# ======================================================================================================================
# SDカードをマウント（シンボリックリンクを作成）
# ======================================================================================================================
ln -s /host-rootfs/sdcard ~/ ;

# ======================================================================================================================
# システムアップデート
# ======================================================================================================================
sudo apt update ;
sudo apt upgrade -y ;

# ======================================================================================================================
# Chromium（ブラウザ）インストール
# ======================================================================================================================
sudo apt install -y chromium chromium-l10n ;
echo "alias chrome='chromium --no-sandbox'" >> ~/.profile ;
source ~/.profile ;

# ======================================================================================================================
# GIMP（画像編集ソフト）インストール
# ======================================================================================================================
sudo apt install -y gimp ;
sudo apt install -y gtk2-engines-pixbuf ;
sudo apt install -y libcanberra-gtk* ;

# ======================================================================================================================
# Office系ソフトのインストール
# ======================================================================================================================

# LibreOffice（オフィススイート: Writer, Calc, Impress, Draw, Base）
sudo apt install -y libreoffice libreoffice-l10n-ja libreoffice-gtk3 ;

# PDFビューワ（Evince）
sudo apt install -y evince ;

# PDF編集（PDF Arranger）
sudo apt install -y pdfarranger ;

# 文字コード変換（gucharmap）
sudo apt install -y gucharmap ;

# ======================================================================================================================
# 画像/動画処理ツールをインストール（Xfce4 標準アプリは除外）
# ======================================================================================================================

# ImageMagick（画像変換・編集）
sudo apt install -y imagemagick ;

# FFmpeg（動画変換・編集）
sudo apt install -y ffmpeg ;

# HandBrake（動画エンコード・変換）
sudo apt install -y handbrake handbrake-cli ;

# Gifski（高品質 GIF 変換）
sudo apt install -y gifski ;

# 画像管理ソフト（Shotwell）
sudo apt install -y shotwell ;

# 画像ビューア（Geeqie）
sudo apt install -y geeqie ;

# 画像圧縮（Trimage）
sudo apt install -y trimage ;

# OpenShot（簡単な動画編集ソフト）
sudo apt install -y openshot ;

# Shotcut（高機能動画編集ソフト）
sudo apt install -y shotcut ;

# Kdenlive（プロ向け動画編集ソフト）
sudo apt install -y kdenlive ;

# メディアプレーヤー（VLC）
sudo apt install -y vlc ;

# ======================================================================================================================
# 設定完了メッセージ
# ======================================================================================================================
echo "==========================="
echo "Xfce4 GUI & Office / 画像 / 動画編集環境のセットアップが完了しました"
echo "UserLAnd を再起動してください"
echo "==========================="
